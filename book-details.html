<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Detailed view of poetry collections by Iron Heist (John Colt).">
    <meta name="keywords" content="poetry, Iron Heist, John Colt, philosophical poetry, emotional poetry">
    <meta name="author" content="Iron Heist (John Colt)">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://yourwebsite.com/poetry.png">
    <meta property="og:url" content="https://yourwebsite.com/book-details.html">
    
    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://yourwebsite.com/poetry.png">

    <title>Book Details | Iron Heist (John Colt)</title>
    <link rel="icon" href="poetry.png" type="image/x-icon" />
    <link rel="preload" href="KirimomiSwash.ttf" as="font" type="font/ttf" crossorigin>
    <link rel="preload" href="BG 1.jpg" as="image">
    
    <style>
        @font-face {
            font-family: 'KirimomiSwash';
            src: url('KirimomiSwash.ttf') format('truetype');
        }

        body {
            font-family: 'KirimomiSwash', 'Georgia', serif;
            font-size: 18px;
            line-height: 1.6;
            background-color: #f8f9fa;
            background-image: url('BG 1.jpg');
            margin: 0;
            padding: 0;
            color: #343a40;
            transition: background-color 0.3s, color 0.3s;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        body.dark-mode {
            background: linear-gradient(135deg, #121212 0%, #1a1a2e 100%);
            color: #d3d3d3;
        }

        .container {
            flex: 1;
            width: 80%;
            margin: 50px auto;
            padding: 30px;
            background-color: #F5F5DC;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: background-color 0.3s, color 0.3s;
        }

        body.dark-mode .container {
            background: #2a2a2a;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: #343a40;
            font-size: 2em;
            margin-bottom: 20px;
            transition: color 0.3s;
        }

        body.dark-mode h1 { color: #e0e0e0; }

        .book-cover img {
            max-width: 300px;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }

        .book-cover img:hover {
            transform: scale(1.05);
        }

        .introduction {
            font-size: 1.2em;
            color: #495057;
            margin: 20px 0;
            transition: color 0.3s;
        }

        body.dark-mode .introduction { color: #b0b0b0; }

        .read-button {
            background-color: #28a745;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
            margin-top: 20px;
        }

        .read-button:hover {
            background-color: #218838;
            transform: translateY(-2px);
        }

        .back-button {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 20px;
        }

        .back-button:hover {
            background-color: #0056b3;
        }

        .dark-mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #343a40;
            color: white;
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 1.2em;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .dark-mode-toggle:hover {
            background-color: #23272b;
            transform: scale(1.1);
        }

        footer {
            text-align: center;
            padding: 20px;
            background-color: #343a40;
            color: #fff;
            transition: background-color 0.3s;
        }

        body.dark-mode footer {
            background-color: #1e1e1e;
        }

        footer a {
            color: #FFA500;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .container {
                width: 90%;
                padding: 20px;
            }
            h1 { font-size: 1.5em; }
            .book-cover img { max-width: 250px; }
            .introduction { font-size: 1em; }
        }

        @media (max-width: 480px) {
            .container { padding: 15px; }
            h1 { font-size: 1.2em; }
            .book-cover img { max-width: 200px; }
            .read-button, .back-button { font-size: 0.9em; padding: 10px 18px; }
        }
    </style>
</head>
<body>
    <div class="dark-mode-toggle" tabindex="0" onclick="toggleDarkMode()" onkeydown="if(event.key === 'Enter') toggleDarkMode()">🌙</div>
    
    <div class="container">
        <h1 id="bookTitle">Loading...</h1>
        <div class="book-cover">
            <img id="bookCover" src="" alt="">
        </div>
        <p class="introduction" id="bookIntro">Loading introduction...</p>
        <button class="read-button" onclick="goToViewer()">Press to Read</button>
        <button class="back-button" onclick="window.location.href='index.html'">Back to Collection</button>
    </div>

    <footer>
        © <span id="current-year"></span> Iron Heist (John Colt) | <a href="mailto:ironheist6@gmail.com">ironheist6@gmail.com</a>
    </footer>

    <script>
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return decodeURIComponent(urlParams.get(param));
        }

        const books = {
            "Garden of Grief": {
                cover: "GOG.jpeg",
                intro: "Enter a poet’s tender battlefield, where grief blooms into raw verse, tracing love’s scars, faith’s doubts, and the fragile light of a soul navigating darkness and dawn.",
                pdf: "pdfs/GARDEN OF GRIEF.pdf"
            },
            "A Diary of My Thoughts": {
                cover: "A Diary of my thoughts.jpeg",
                intro: "Step into a poet’s soul, where sleepless nights and burning hearts weave an intimate tapestry of love, loss, and the relentless search for light in the dark.",
                pdf: "pdfs/A Diary of my Thoughts.pdf"
            },
            "Midday Blues": {
                cover: "Midday Blues.jpeg",
                intro: "Delve into a poet’s midday reverie, where love’s quiet ache and faith’s fragile dance unfold in lyrical whispers of hope and renewal.",
                pdf: "pdfs/Midday Blues.pdf"
            },
            "Fading Light?": {
                cover: "Fading Light.jpeg",
                intro: "Embark on a tender descent into dusk, where poems of love and loss flicker like fading light, revealing the beauty and ache of life’s silent struggles.",
                pdf: "pdfs/Fading Light.pdf"
            },
            "Dawn & Dusk": {
                cover: "Dawn & Dusk.jpeg",
                intro: "Wander through a poet’s twilight, where dawn and dusk collide in verses of growth and grief, unveiling the fractured beauty of a soul caught between shadows and light.",
                pdf: "pdfs/Dawn and Dusk.pdf"
            },
            "A Letdown": {
                cover: "A Letdown.jpeg",
                intro: "Step into a poet’s unraveling, where love’s steep price fractures the soul into haunting fragments, tracing a path of loss and self-destruction through a winter that never thaws.",
                pdf: "pdfs/A Letdown.pdf"
            },
            "Drunk Off Her": {
                cover: "Drunk OFF her.jpeg",
                intro: "Drift through a haze of longing, where memories of her linger like a bittersweet intoxicant, binding a poet to a love that burns bright yet slips away like sand through desperate hands.",
                pdf: "pdfs/DRUNK OFF HER.pdf"
            },
            "You and the Moon": {
                cover: "You are my moonlight.jpeg",
                intro: "Wander a lover’s celestial reverie, where the moon and tides mirror a heart torn between devotion and distance, whispering vows to a beloved just out of reach.",
                pdf: "pdfs/You and the Moon.pdf"
            },
            "A Fool's Dream": {
                cover: "A Fools Dream.jpeg",
                intro: "Plunge into the abyss of a restless mind, where dreams crumble like ash and ghosts of doubt haunt every page, leaving only echoes of what might have been.",
                pdf: "pdfs/A Fool's Dream.pdf"
            }
        };

        const title = getQueryParam('title');
        const book = books[title] || {};

        document.getElementById('bookTitle').textContent = title || 'Book Not Found';
        document.getElementById('bookCover').src = book.cover || 'poetry.png';
        document.getElementById('bookCover').alt = `${title} - Poetry by Iron Heist`;
        document.getElementById('bookIntro').textContent = book.intro || 'No introduction available.';
        document.title = `${title} | Iron Heist (John Colt)`;
        
        // Update Open Graph and Twitter meta tags
        document.querySelector('meta[property="og:title"]').setAttribute('content', `${title} | Iron Heist (John Colt)`);
        document.querySelector('meta[property="og:description"]').setAttribute('content', book.intro || 'Explore poetry by Iron Heist.');
        document.querySelector('meta[name="twitter:title"]').setAttribute('content', `${title} | Iron Heist (John Colt)`);
        document.querySelector('meta[name="twitter:description"]').setAttribute('content', book.intro || 'Explore poetry by Iron Heist.');

        function goToViewer() {
            window.location.href = `viewer.html?pdf=${encodeURIComponent(book.pdf)}&title=${encodeURIComponent(title)}`;
        }

        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const darkModeToggle = document.querySelector('.dark-mode-toggle');
            darkModeToggle.textContent = document.body.classList.contains('dark-mode') ? '☀️' : '🌙';
            localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('current-year').textContent = new Date().getFullYear();
            if (localStorage.getItem('darkMode') === 'true') toggleDarkMode();
        });
    </script>
</body>
</html>